op <- par(mfrow= c(3,2), oma= c(0,0, 3, 0),
mgp= c(1.6,.8,0), mar= .1+c(4,2,2,2))
for(k in 2:6)
plot(silhouette(pam(ruspini, k=k)), main = paste("k = ",k), do.n.k=FALSE)
outer = TRUE, font = par("font.main"), cex = par("cex.main")); frame()
c6 <- c("tomato", "forest green", "dark blue", "purple2", "goldenrod4", "gray20")
for(k in 2:6)
plot(silhouette(pam(ruspini, k=k)), main = paste("k = ",k), do.n.k=FALSE,
col = c6[1:k])
q()
q()
a <- sample(c(T,F), 100)
b <- sample(1:5, 100)
y <- 5*a + 3*b + rnorm(100)
mod <- lm(y ~ a*factor(b))
summary(mod)
anova(mod)
a <- sample(c(T,F), 100, replace = TRUE)
b <- sample(1:5, 100, replace = TRUE)
y <- 5*a + 3*b + rnorm(100)
mod <- lm(y ~ a*factor(b))
summary(mod)
anova(mod)
a <- sample(c(T,F), 100, replace = TRUE)
b <- sample(1:5, 100, replace = TRUE)
y <- 5*a + 3*b + rnorm(100, sd = 10)
mod <- lm(y ~ a*factor(b))
summary(mod)
anova(mod)
summary(lm(y~a+b))
summary(lm(y~a+factor(b))
)
library(mnlogit)
mnlogit
newtonRaphson
?newtonRaphson
q()
ggplot(mtcars, aes(wt, mpg)) + geom_point()
library(BrattleExtras)
ggplot(mtcars, aes(wt, mpg)) + geom_point()
showtext.auto()
ggplot(mtcars, aes(wt, mpg)) + geom_point()
showtext.end()
ggplot(mtcars, aes(wt, mpg)) + geom_point()
showtext.auto()
ggplot(mtcars, aes(wt, mpg)) + geom_point() + theme(text=element_text(family = "sans"))
q()
library(BrattleExtras)
head(mtcars)
p + geom_point(aes(color = cyl))
BrattleColors(1)
p
q()
data <- readRDS("C:/Users/Charlie Gibbons/Desktop/2008)2010_with_claims.RDS")
data <- readRDS("C:/Users/Charlie Gibbons/Desktop/2008_2010_with_claims.RDS")
head(data)
?options
q()
shiny::runApp('//10.0.1.162/Data/General/80400_BD_LIFA/Individuals' Folders/McClean/Pivot Table Shiny Example/code')
shiny::runApp('Desktop')
runApp('Desktop/Pivot Table Shiny Example/code')
a
q()
a
a <- 1:5
rbind(a, 1:3)
q()
TRUE
q()
TRUE
q()
TRUE
(TRUE)
q()
library(lubridate)
x <- as.Date(c("2016-12-08", "2015-12-31"))
lag(x)
?lag
library(dplyr)
a <- data.frame(a = rep(letters[1:3], 4), b = rep(seq(as.Date("2015-12-01"), as.Date("2015-12-04")), 3, times = 4)
)
a <- data.frame(a = rep(letters[1:3], 4), b = rep(seq(as.Date("2015-12-01"), as.Date("2015-12-04")), times = 4))
a <- data.frame(a = rep(letters[1:3], 4), b = rep(seq(as.Date("2015-12-01"), as.Date("2015-12-04"), by = "1 day"), times = 4))
a <- data.frame(a = rep(letters[1:3], 4), b = rep(seq(as.Date("2015-12-01"), as.Date("2015-12-03"), by = "1 day"), times = 4))
a
a <- data.frame(a = rep(letters[1:3], 4), b = rep(seq(as.Date("2015-12-01"), as.Date("2015-12-03"), by = "1 day"), each = 4))
a
a$b[2] <- as.Date("2014-12-01")
a %>% group_by(a) %>% mutate(year(b) = 2014)
a %>% group_by(a) %>% mutate(test = 2014)
a <- data.frame(a = rep(letters[1:3], 4), b = rep(seq(as.Date("2015-12-01"), as.Date("2015-12-03"), by = "1 day"), each = 4))
a <- data.frame(a = rep(letters[1:3], each = 4), b = rep(seq(as.Date("2015-12-01"), as.Date("2015-12-04"), by = "1 day"), 3))
a
a$b[2] <- as.Date("2014-12-02")
a %>% group_by(a) %>% mutate(flag = b - c(NA, head(b, -1)))
a %>% group_by(a) %>% mutate(flag = difftime(b, c(NA, head(b, -1))))
a %>% group_by(a) %>% mutate(flag = difftime(b, lag(b)))
a %>% group_by(a) %>% mutate(flag = difftime(b, lag(b)) < 0)
a <- a %>% group_by(a) %>% mutate(flag = difftime(b, lag(b)) < 0)
a <- a %>% group_by(a) %>% mutate(flag = difftime(b, lag(b)) < 0, flag = ifelse(is.na(flag, FALSE, flag))
a
a <- a %>% group_by(a) %>% mutate(flag = difftime(b, lag(b)) < 0, flag = ifelse(is.na(flag), FALSE, flag))
a
year(a$b)[a$flag] <- year(a$b)[a$flag] + 1
a
x <- as.Date("2015-12-01")
year(x) <- 2014
x
a <- data.frame(a = rep(letters[1:3], each = 4), b = rep(seq(as.Date("2015-12-01"), as.Date("2015-12-04"), by = "1 day"), 3))
a <- data.frame(a = rep(letters[1:5], each = 2), b = c(1:5, 2*(1:5)))
library(BrattleExtras)
a
a <- data.frame(a = rep(LETTERS[1:2], each = 5), rep(letters[1:5], 2), b = c(1:5, 2*(1:5)))
A
a
a <- data.frame(a = rep(LETTERS[1:2], each = 5), b = rep(letters[1:5], 2), c = c(1:5, 2*(1:5)))
ggplot(a, aes(b, c, color = a)) + geom_bar(position = "dodge", stat = "identity")
ggplot(a, aes(b, c, color = a)) + geom_bar(aes(color = a), position = "dodge", stat = "identity")
ggplot(a, aes(b, c, color = a)) + geom_bar(aes(color = a), position = "dodge", stat = "identity") + scale_color_discrete()
ggplot(a, aes(b, c, group = a)) + geom_bar(position = "dodge", stat = "identity")
ggplot(a, aes(b, c, group = a, color = a)) + geom_bar(position = "dodge", stat = "identity")
ggplot(a, aes(b, c, color = a, group = a)) + geom_bar(position = "dodge", stat = "identity")
ggplot(a, aes(b, c, fill = a)) + geom_bar(aes(color = a), position = "dodge", stat = "identity")
q()
tab <- readRDS("C:/Users/Charlie Gibbons/Desktop/group_cnt_by_county_2010.RDS")
tab
22+624+190
40+667+68+63
99+77+869
q()
library(dplyr)
q()
q()
library(dplyr)
a <- data.frame(a = letters[1:20], b = rep(c(T,F), 10), c = rnorm(20), stringsAsFactors = F)
a
a %>% filter(b)
a %>% filter_("b")
library(data.table)
a <- data.table(a)
a[, d:= c(T, rep(F, 19))]
a
a[d]
a[d == TRUE]
a <- matrix(1:20, nrow = 5)
b <- matrix(1:15, nrow = 5)
colnames(a) <- letters[1:5]
colnames(a) <- letters[1:4]
colnames(b) <- letters[3:5]
a
b
bind_rows(a, b)
b[, letters[5:3]]
b[, "a"] <- 0
cbind(b, a = 0)
b
a
BindMatrixList(list(a, b))
b <- b[, letters[5:3]]
b
BindMatrixList(list(a, b))
a
a <- a[, 1:3]
BindMatrixList(list(a, b))
BindMatrixList(list(a))
52/77
q()
data <- readRDS("X:\\4800\\4898_Moody_Blues\\Analysis\\HLI Data Exploration\\Member Shares\\Statewide Shares\\intermediate\\hl_clean_company_level.RDS")
library(dplyr)
glimpse(data)
table(data$State)
data_al <- data %>% filter(State == "AL")
data_al %>% filter(grepl("cigna", CompanyName, ignore.case = TRUE))
data_al %>% filter(grepl("cigna", MCOName, ignore.case = TRUE))
data_al %>% filter(grepl("cigna", MCOName, ignore.case = TRUE)) %$% table(CompanyName)
library(magrittr)
data_al %>% filter(grepl("cigna", MCOName, ignore.case = TRUE)) %$% table(CompanyName)
data_al %>% filter(grepl("cigna", CompanyName, ignore.case = TRUE)) %>% group_by(Year) %>% summarize(si = sum(CommSI), fi = sum(CommFI))
q()
setwd("\\\\CMBFS02\\xfiles\\4800\\4898_Moody_Blues\\Analysis\\NAIC Data Analysis\\Final NAIC Data Set\\Core Financials\\Output"
)
load("CF0006.rda")
ls()
names(CF0006_clean2)
load("Relevant variables from CF0001, 3, 4, 5.rda")
ls()
names(merged)
rm(list=ls())
gc()
q()
df <- data.frame(a = rep(letters[1:2], 4), b = rnorm(8))
df <- df %>% group_by(a) %>% filter(b > mean(b))
library(dplyr)
df <- df %>% group_by(a) %>% filter(b > mean(b))
df <- data.frame(a = rep(letters[1:2], 4), b = rnorm(8))
df <- df %>% group_by(a) %>% filter(b > mean(b))
names(df)[1] <- "A"
df %>% summarize(b_mean = mean(b))
df
df %>% mutate(c = "test")
df %>% mutate(c = mean(b))
df <- data.frame(a = rep(letters[1:2], 4), b = rnorm(8), stringsAsFactors = F)
df <- df %>% group_by(a) %>% filter(b > mean(b))
names(df)[1] <- "A"
df
df <- data.frame(a = rep(letters[1:2], 4), b = rnorm(8), stringsAsFactors = F)
df <- df %>% group_by(a) %>% filter(b > mean(b))
names(df)[1] <- "A"
df
df %>% mutate(b_mean = mean(b))
df %>% summarize(b_mean = mean(b))
q()
library(ggplot2)
head(mtcars)
ggplot(mtcars, aes(wt, wpg)) + geom_point()
ggplot(mtcars, aes(wt, mpg)) + geom_point()
?mtcars
ggplot(mtcars, aes(hp, qsec, color = cyl)) + geom_point()
ggplot(mtcars, aes(hp, qsec, color = factor(cyl))) + geom_point()
summary(lm(mpg ~ cyl+disp+hp+wt+am+gear+carb, data = mtcars))
anova(lm(mpg ~ factor(cyl)+wt+am+factor(gear)+factor(carb), data = mtcars))
anova(lm(qsec ~ factor(cyl)+wt+am+factor(gear)+factor(carb), data = mtcars))
ggplot(mtcars, aes(wt, qsec, color = factor(am))) + geom_point()
ggplot(mtcars, aes(wt, qsec, color = factor(gear))) + geom_point()
ggplot(mtcars, aes(wt, mpg)) + geom_point()
fig1 <- ggplot(mtcars, aes(wt, mpg)) + geom_point()
fig2 <- ggplot(mtcars, aes(wt, qsec, color = factor(gear))) + geom_point()
ggsave("fig1.png", fig1, width = 5, height = 3)
ggsave("fig2.png", fig2, width = 5, height = 3)
ggsave("fig1.png", fig1, width = 5, height = 3.5)
ggsave("fig2.png", fig2, width = 5, height = 3.5)
q()
q()
library(BrattleExtras)
head(mtcars)
library(dplyr)
df <- mtcars %>% group_by(cyl, gear) %>% summarize(avg = mean(mpg))
ggplot(df, aes(gear, avg, color = cyl)) + geom_bar()
ggplot(df, aes(gear, avg, color = cyl)) + geom_bar(stat = "identity")
ggplot(df, aes(gear, avg, fill = cyl)) + geom_bar(stat = "identity", position = "dodge")
ggplot(df, aes(gear, avg, fill = factor(cyl))) + geom_bar(stat = "identity", position = "dodge")
head(diamonds)
df <- diamonds %>% group_by(color, cut) %>% summarize(avg = mean(price))
ggplot(df, aes(cut, avg, fill = color)) + geom_bar(state =
)
ggplot(df, aes(cut, avg, fill = color)) + geom_bar(stat = "identity", position = "dodge")
ggplot(df, aes(cut, avg, fill = factor(color))) + geom_bar(stat = "identity", position = "dodge")
ggplot(df, aes(color, avg, fill = factor(cut))) + geom_bar(stat = "identity", position = "dodge")
ggplot(df %>% filter(color %in% LETTERS[4:7]), aes(cut, avg, fill = factor(color))) + geom_bar(stat = "identity", position = "dodge")
fig <- ggplot(df %>% filter(color %in% LETTERS[4:7]), aes(cut, avg, fill = factor(color))) + geom_bar(stat = "identity", position = "dodge")
fig+scale_color_manual(values = c("00467F", "13829E", "B3CCA8", "E9CB57"))
fig+scale_fill_manual(values = c("00467F", "13829E", "B3CCA8", "E9CB57"))
fig+scale_fill_manual(values = c("00467F", "13829E", "B3CCA8", "E45F5E"))
fig+scale_fill_manual(values = c("00467F", "13829E", "B3CCA8", "#E45F5E"))
fig+scale_fill_manual(values = c("#00467F", "#13829E", "#B3CCA8", "#E45F5E"))
fig+scale_fill_manual(values = c("#00467F", "#13829E", "#B3CCA8", "#E9CB57"))
fig+scale_fill_manual(values = c("#00467F", "#7FB9C2", "#DAE309", "#D48996"))
fig+scale_fill_manual(values = c("#00467F", "#7FB9C2", "#B0545D", "#D48996"))
fig+scale_fill_manual(values = c("#00467F", "#7FB9C2", "#DAE309", "#B0545D"))
fig+scale_fill_manual(values = c("#00467F", "#1C75BC", "#27AA31", "#F88040"))
fig+scale_fill_manual(values = c("#00467F", "#1C75BC", "#27AA31", "#89C765"))
fig+scale_fill_manual(values = c("#00467F", "#1C75BC", "#27AA31", "#F88040"))
fig+scale_fill_manual(values = c("#00467F", "#1C75BC", "#27AA31", "#89C765"))
fig+scale_fill_manual(values = c("#00467F", "#7fb9c2", "#27AA31", "#89C765"))
fig+scale_fill_manual(values = c("#00467F", "#7fb9c2", "#89C765", "#27AA31"))
fig+scale_fill_manual(values = c("#00467F", "#7fb9c2", "#27AA31", "#F88040"))
fig+scale_fill_manual(values = c("#00467F", "#7fb9c2", "#27AA31", "#6A7277"))
fig+scale_fill_manual(values = c("#00467F", "#7fb9c2", "#89C765", "#6A7277"))
fig+scale_fill_manual(values = c("#00467F", "#0D71A9", "#C0BD9D", "#EDC358"))
fig+scale_fill_manual(values = c("#00467F", "#0D71A9", "#D06F39", "#EDC358"))
fig+scale_fill_manual(values = c("#00467F", "#1E829E", "#B3CCA8", "#E9CB57"))
fig+scale_fill_manual(values = c("#00467F", "#0D71A9", "#D06F39", "#EDC358"))
fig+scale_fill_manual(values = c("#00467F", "#1E829E", "#B3CCA8", "#E9CB57"))
fig+scale_fill_manual(values = c("#00467F", "#1E829E", "#E45F5E", "#E9CB57"))
fig+scale_fill_manual(values = c("#00467F", "#1E829E", "#E9CB57", "#E45F5E"))
fig+scale_fill_manual(values = c("#00467F", "#1E829E", "#B3CCA8", "#E9CB57"))
fig+scale_fill_manual(values = c("#00467F", "#0D71A9", "#D06F39", "#EDC358"))
fig+scale_fill_manual(values = c("#00467F", "#1E829E", "#E9CB57", "#E45F5E"))
fig+scale_fill_manual(values = c("#00467F", "#0D71A9", "#D06F39", "#EDC358"))
A <- list()
a <- list()
a <- c(a, c("#00467F", "#0D71A9", "#D06F39", "#EDC358"))
a <- c(a, c("#00467F", "#1E829E", "#E9CB57", "#E45F5E"))
fig+scale_fill_manual(values = c("#00467F", "#0d71a9", "#c0bd9d", "#edc358"))
fig+scale_fill_manual(values = c("#00467F", "#er572e", "3f3a712", "#a8c686"))
fig+scale_fill_manual(values = c("#00467F", "#er572e", "#3f3a712", "#a8c686"))
fig+scale_fill_manual(values = c("#00467F", "#er572e", "#f3a712", "#a8c686"))
fig+scale_fill_manual(values = c("#00467F", "#f3a712", "#a8c686", "#669bbc"))
a <- c(a, c("#00467F", "#f3a712", "#a8c686", "#669bbc"))
fig+scale_fill_manual(values = c("#627988", "#7f89c2", "#49516f", "#496f5d"))
fig+scale_fill_manual(values = c("#165d70", "#7fb9c2", "#f8eb08", "#da5448"))
fig+scale_fill_manual(values = c("#165d70", "#7fb9c2", "#944e2d", "#da5448"))
fig+scale_fill_manual(values = c("#7fb9c2", "#68716d", "#5d9789", "#e1ca80"))
fig+scale_fill_manual(values = c("#7fb9c2", "#e05731", "#5d9789", "#e1ca80"))
fig+scale_fill_manual(values = c("#7fb9c2", "#166594", "#f2e2c5", "#e7bd8e"))
fig+scale_fill_manual(values = c("#7fb9c2", "#166594", "#ea7f53", "#e7bd8e"))
a <- c(a, c("#166594", "#7fb9c2", "#ea7f53", "#e7bd8e"))
fig+scale_fill_manual(values = c("#7fb9c2", "#3a9577", "#e0d5a4", "#b47749"))
fig+scale_fill_manual(values = c("#7fb9c2", "#3a9577", "#b34e45", "#b47749"))
fig+scale_fill_manual(values = c("#7fb9c2", "#687672", "#548082", "#e3cf84"))
fig+scale_fill_manual(values = c("#7fb9c2", "#df5330", "#548082", "#e3cf84"))
a <- c(a, c("#7fb9c2", "#687672", "#548082", "#e3cf84"))
fig+scale_fill_manual(values = c("#7fb9c2", "#334652", "#dfdbd0", "#e7b962"))
a
lapply(0:5, function(x) a[(5*x+1):(5*x+5)])
str(a)
lapply(0:5, function(x) a[(4*x+1):(4*x+4)])
lapply(0:4, function(x) a[(4*x+1):(4*x+4)])
lapply(0:4, function(x) unlist(a[(4*x+1):(4*x+4)]))
a <- lapply(0:4, function(x) unlist(a[(4*x+1):(4*x+4)]))
fig+scale_fill_manual(values = a[[1]])
fig+scale_fill_manual(values = a[[2]])
fig+scale_fill_manual(values = a[[3]])
fig+scale_fill_manual(values = a[[4]])
fig+scale_fill_manual(values = a[[5]])
fig+scale_fill_manual(values = a[[1]])
fig+scale_fill_manual(values = a[[2]])
fig+scale_fill_manual(values = a[[1]])
fig+scale_fill_manual(values = a[[2]])
fig+scale_fill_manual(values = a[[1]])
fig+scale_fill_manual(values = a[[1]][1,2,4,3])
fig+scale_fill_manual(values = a[[1]][c(1,2,4,3)])
fig+scale_fill_manual(values = a[[2]])
fig+scale_fill_manual(values = a[[3]])
fig+scale_fill_manual(values = a[[1]][c(1,2,4,3)])
fig+scale_fill_manual(values = a[[3]])
fig+scale_fill_manual(values = a[[1]][c(1,2,4,3)])
fig+scale_fill_manual(values = a[[3]])
fig+scale_fill_manual(values = a[[34])
fig+scale_fill_manual(values = a[[4]])
fig+scale_fill_manual(values = a[[5]])
fig+scale_fill_manual(values = a[[1]][c(1,2,4,3)])
fig+scale_fill_manual(values = a[[3]])
fig+scale_fill_manual(values = a[[1]][c(1,2,4,3)])
fig+scale_fill_manual(values = a[[3]])
a
fig+scale_fill_manual(values = a[[3]][c(1, 4, 3, 2))
fig+scale_fill_manual(values = a[[3]][c(1, 4, 3, 2)])
fig+scale_fill_manual(values = a[[1]][c(1,2,4,3)])
fig+scale_fill_manual(values = a[[3]][c(1, 4, 3, 2)])
fig+scale_fill_manual(values = a[[1]][c(1,2,4,3)])
fig+scale_fill_manual(values = a[[3]][c(1, 4, 3, 2)])
fig2 <- ggplot(df %>% filter(color %in% LETTERS[4:8]), aes(cut, avg, fill = factor(color))) + geom_bar(stat = "identity", position = "dodge")
fig2+scale_fill_manual(values = c(a[[3]][c(1, 4, 3, 2)], a[[1]][3]))
fig2+scale_fill_manual(values = c(a[[3]][c(1, 4, 3, 2)], "#6A7277"))
fig2+scale_fill_manual(values = c(a[[3]][c(1, 4, 3, 2)], "#d4b996"))
fig2+scale_fill_manual(values = c(a[[3]][c(1, 4, 3, 2)], "#fbb040"))
fig2+scale_fill_manual(values = c(a[[3]][c(1, 4, 3, 2)], "#89c765"))
fig2+scale_fill_manual(values = c(a[[3]][c(1, 4)], "#89c765", "#fbb040"))
fig2+scale_fill_manual(values = c(a[[3]][c(1, 4)], "#89c765", "#fbb040", "#6A7277"))
fig2+scale_fill_manual(values = c(a[[3]][c(1, 4, 3, 2)], a[[1]][3]))
fig2+scale_fill_manual(values = c(a[[3]][c(1, 4, 3)], "#fbb040", a[[1]][3]))
fig2+scale_fill_manual(values = c(a[[3]][c(1, 4, 3, 2)], a[[1]][3]))
fig2+scale_fill_manual(values = c(a[[3]][c(1, 4, 3)], "#fbb040", a[[1]][3]))
fig2+scale_fill_manual(values = c(a[[3]][c(1, 4, 3, 2)], a[[1]][3]))
fig2+scale_fill_manual(values = c(a[[3]][c(1, 4, 3)], "#fbb040", a[[1]][3]))
fig2+scale_fill_manual(values = c(a[[3]][c(1, 4, 3)], "#fbb040" "#89c765"))
fig2+scale_fill_manual(values = c(a[[3]][c(1, 4, 3)], "#fbb040", "#89c765"))
fig2+scale_fill_manual(values = c(a[[3]][c(1, 4, 3)], "#fbb040", a[[1]][3]))
head(diamonds)
fig3 <- ggplot(diamonds, aes(carat, price, color = cut)) + geom_point()
fig3+scale_color_manual(values = c(a[[3]][c(1, 4, 3)], "#fbb040", a[[1]][3]))
dim(diamonds)
fig3 <- ggplot(diamonds[sample(nrow(diamonds), 100), ], aes(carat, price, color = cut)) + geom_point()
fig3+scale_color_manual(values = c(a[[3]][c(1, 4, 3)], "#fbb040", a[[1]][3]))
fig3+scale_color_manual(values = c(a[[3]][c(1, 4, 3)], "#fbb040", a[[1]][3])) + geom_point(size = I(2))
fig2
fig2+scale_fill_manual(values = c(a[[3]][c(1, 4, 3)], "#fbb040", a[[1]][3]))
fig2
fig2+scale_fill_manual(values = c(a[[3]][c(1, 4, 3)], "#fbb040", a[[1]][3]))
fig2 + scale_fill_hue(c=38, l = 73, h.start = 207)
fig1 + scale_fill_hue(c=38, l = 73, h.start = 207)
ls()
fig + scale_fill_hue(c=38, l = 73, h.start = 207)
fig2 + scale_fill_hue(c=38, l = 73, h.start = 207)
fig2 + scale_fill_hue(c=100, l = 25, h.start = 207)
fig2 + scale_fill_hue(c=25, l = 100, h.start = 207)
fig2 + scale_fill_hue(c=100, l = 25, h.start = 207)
figa <- fig2+scale_fill_manual(values = c(a[[3]][c(1, 4, 3)], "#fbb040", a[[1]][3]))
figa
figb <- fig2 + scale_fill_hue(c=38, l = 73, h.start = 207)
figb
figa
fig2
figa <- figa + xlab("Cut") + ylab("Average price")
fig2 <- figa + xlab("Cut") + ylab("Average price")
figa
fig2
fig2 <- ggplot(df %>% filter(color %in% LETTERS[4:8]), aes(cut, avg, fill = factor(color))) + geom_bar(stat = "identity", position = "dodge")
fig2
fig2 <- fig2 + xlab("Cut") + ylab("Average price")
fig2
figa
fig2 + scale_fill_hue(c=38, l = 73, h.start = 207)
fig2 + scale_fill_hue(c=100, l = 25, h.start = 207)
figa
fig2 + scale_fill_hue(c=38, l = 73, h.start = 207)
fig2 + scale_fill_hue(c=38, l = 73, h.start = 207, direction = -1)
figa
fig2 + scale_fill_brattle("Color")
fig2 + scale_fill_discrete("Color")
fig2 <- fig2 + scale_fill_discrete("Color")
figa <- fig2+scale_fill_manual(values = c(a[[3]][c(1, 4, 3)], "#fbb040", a[[1]][3]))
figa
figa <- fig2+scale_fill_manual("Color", values = c(a[[3]][c(1, 4, 3)], "#fbb040", a[[1]][3]))
figa
fig2
figa
fig2
figa
fig2 <- fig2 + ggtitle("Average Diamond Price by Cut and Color")
figa <- figa + ggtitle("Average Diamond Price by Cut and Color")
fig2
figa
ggsave("Desktop/fig_brattle.png", fig2, width = 5, height = 3)
ggsave("Desktop/fig_alt.png", figa, width = 5, height = 3)
ggsave("Desktop/fig_brattle.png", fig2, width = 5.5, height = 4)
ggsave("Desktop/fig_alt.png", figa, width = 5.5, height = 4)
ggsave("Desktop/fig_alt.png", figa, width = 6, height = 4.5)
ggsave("Desktop/fig_alt.png", figa, width = 6, height = 4.5)
fig2+scale_fill_manual(values = a[[2]])
fig+scale_fill_manual(values = a[[2]])
fig+scale_fill_manual(values = a[[3]])
fig+scale_fill_manual(values = a[[4]])
fig+scale_fill_manual(values = a[[5]])
brattle_pal(5)
scale_color_brattle
BrattleExtras::brattle_pal(5)
BrattleExtras:::brattle_pal(5)
BrattleExtras:::brattle_pal()(5)
fig2a <- fig2 + scale_fill_manual(values = BrattleExtras:::brattle_pal()(5)[c(1,2,5,4,3)])
fig2a
fig2a <- fig2 + scale_fill_manual("Color", values = BrattleExtras:::brattle_pal()(5)[c(1,2,5,4,3)])
fig2a
ggsave("Desktop/fig_brattle.png", fig2a, width = 5.5, height = 4)
fig2a <- fig2 + scale_fill_manual("Color", values = BrattleExtras:::brattle_pal()(5)[c(1,2,4,5,3)])
fig2a
ggsave("Desktop/fig_brattle.png", fig2a, width = 5.5, height = 4)
c(a[[3]][c(1, 4, 3)], "#fbb040", a[[1]][3])
q()
library(dplyr)
df <- readRDS("\\\\sffs2\\Projects2\\4898_Moody_Blues\\insurer_data\\plans\\united\\output\\united_individual_plan_prices.rds ")
glimpse(df)
q()
library(BrattleExtras)
df <- diamonds %>% group_by(cut, color) %>% summarize(price = mean(price))
library(dplyr)
df <- diamonds %>% group_by(cut, color) %>% summarize(price = mean(price))
fig <- ggplot(df, aes(cut, price, fill = color)) + xlab("Cut") + ylab("Average price") + ggtitle("Average Diamond Price by Cut and Color")
fig
fig <- ggplot(df, aes(cut, price, fill = color)) + xlab("Cut") + ylab("Average price") + ggtitle("Average Diamond Price by Cut and Color") + geom_bar()
fig
fig <- ggplot(df, aes(cut, price, fill = color)) + xlab("Cut") + ylab("Average price") + ggtitle("Average Diamond Price by Cut and Color") + geom_bar(stat = "identity", position = "dodge")
fig
df <- df %>% filter(color %in% LETTERS[4:8])
fig <- ggplot(df, aes(cut, price, fill = color)) + xlab("Cut") + ylab("Average price") + ggtitle("Average Diamond Price by Cut and Color") + geom_bar(stat = "identity", position = "dodge")
fig
brattle_pal()
BrattleExtras:::brattle_pal()
colors.brattle
BrattleExtras:::colors.brattle
fig2 <- fig + scale_color_manual("Color", values = c("#00467f", "#7fb9c2", "#B0BC22", "#F5ED60", "#F47735"))
fig2
fig2 <- fig + scale_fill_manual("Color", values = c("#00467f", "#7fb9c2", "#B0BC22", "#F5ED60", "#F47735"))
fig2
fig2 <- fig + scale_fill_manual("Color", values = c("#00467f", "#00A18E", "#B0BC22", "#F5ED60", "#F47735"))
fig2
fig2 <- fig + scale_fill_manual("Color", values = c("#00467f", "#8FD2CA", "#B0BC22", "#F5ED60", "#F47735"))
fig2
fig2 <- fig + scale_fill_manual("Color", values = c("#00467f", "#8FD2CA", "#B0BC22", "#F5ED60", "#F9A989"))
fig2
fig2 <- fig + scale_fill_manual("Color", values = c("#00467f", "#8FD2CA", "#B0BC22", "#F5ED60", "#F47735"))
fig2
fig2 <- fig + scale_fill_manual("Color", values = c("#00467f", "#8FD2CA", "#B0BC22", "#D5D10E", "#F47735"))
fig2
fig2 <- fig + scale_fill_manual("Color", values = c("#00467f", "#8FD2CA", "#B0BC22", "#F5ED60", "#F47735"))
fig2
fig2 <- fig + scale_fill_manual("Color", values = c("#00467f", "#7fb9c2", "#B0BC22", "#F5ED60", "#F47735"))
fig2 <- fig + scale_fill_manual("Color", values = c("#00467f", "#8FD2CA", "#B0BC22", "#F5ED60", "#F47735"))
fig1 <- fig + scale_fill_manual("Color", values = c("#00467f", "#7fb9c2", "#B0BC22", "#F5ED60", "#F47735"))
fig1
fig2
fig1
fig2
fig3 <- fig + scale_fill_manual("Color", values = c("#9B5BA5", "#7fb9c2", "#B0BC22", "#F5ED60", "#F47735"))
fig3
fig3 <- fig + scale_fill_manual("Color", values = c("#9B5BA5", "#8FD2CA", "#B0BC22", "#F5ED60", "#F47735"))
fig3
fig2
fig1
fig2
fig1
fig3
fig1
fig
fig1
fig2
ggsave("fig_alt1.png", fig2, width = 6, height = 4.5)
ggsave("fig_alt2.png", fig3, width = 6, height = 4.5)
q()
setwd("C:\\Users\\Charlie Gibbons\\Documents\\academic\\GSSU")
